# 版本发布与标签管理指南

本文档说明如何使用自动化脚本发布新版本，以及如何管理 Git 标签。

## 自动化发布流程

使用 `release.sh` 脚本可以一键完成整个发布流程：

```bash
# 发布指定版本
./release.sh 1.2.0
```

脚本会自动完成以下步骤：
1. 更新 `package.json` 和 `src/manifest.json` 中的版本号
2. 提交版本更改到 Git
3. 创建并推送符合 GitHub Actions 要求的 `v*` 格式标签
4. 触发自动构建和发布流程

## 标签管理

### 查看现有标签
```bash
# 查看本地标签
git tag

# 查看远程标签
git ls-remote --tags origin
```

### 删除无用标签

如果需要删除本地和远程的无用标签，可以使用以下命令：

```bash
# 删除本地标签
git tag -d <tag-name>

# 删除远程标签
git push origin --delete <tag-name>

# 批量删除多个标签
git tag -d v1.0 v1.3.0 v1.3.1
git push origin --delete v1.0 v1.3.0 v1.3.1
```

### 标签命名规范

- 只保留有效的发布版本标签
- 标签格式必须是 `v1.0.0` 格式（带 v 前缀）
- 确保标签版本号与 `package.json` 和 `src/manifest.json` 中的版本一致

## 发布后检查

1. 访问 [GitHub Actions](https://github.com/util6/typora-plugin-markmap-plus/actions) 查看构建状态
2. 发布完成后在 [Releases](https://github.com/util6/typora-plugin-markmap-plus/releases) 页面查看发布包

## 注意事项

- 确保你有仓库的推送权限
- 确保网络连接正常
- 发布前检查版本号是否正确